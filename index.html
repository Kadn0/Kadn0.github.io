/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

@namespace url("http://www.w3.org/1999/xhtml");

.videocontrols {
  writing-mode: horizontal-tb;
  width: 100%;
  height: 100%;
  display: inline-block;
  overflow: hidden;

  direction: ltr;
  /* Prevent selection from interacting weirdly with the page,
   * see bug 1766093. Our text selection story with shadow dom should be
   * better, see bug 1590379 */
  user-select: none;
  /* Prevent unwanted style inheritance. See bug 554717. */
  text-align: left;
  list-style-image: none !important;
  font: normal normal normal 100% / normal sans-serif !important;
  text-decoration: none !important;
  white-space: normal !important;
}

.videocontrols[flipped] {
  transform: scaleX(-1);
}

.controlsContainer {
  --clickToPlay-size: 48px;
  --button-size: 30px;
  --timer-size: 40px;
  --timer-long-size: 60px;
  --track-size: 5px;
  --thumb-size: 13px;
  --label-font-size: 13px;
  --pip-toggle-padding: 5px;
  --control-focus-outline: 2px solid #00ddff;
  --control-focus-outline-offset: -2px;
  --pip-toggle-icon-width-height: 16px;
  --pip-toggle-translate-x: calc(100% - var(--pip-toggle-icon-width-height) - 2 * var(--pip-toggle-padding));

  color: #fff;
}
.controlsContainer.touch {
  --clickToPlay-size: 64px;
  --button-size: 40px;
  --timer-size: 52px;
  --timer-long-size: 78px;
  --track-size: 7px;
  --thumb-size: 16px;
  --label-font-size: 16px;
}

/* Some CSS custom properties defined here are referenced by videocontrols.js */
.controlBar {
  /* Do not delete: these variables are accessed by JavaScript directly.
     see videocontrols.js and search for |-width|. */
  --clickToPlay-width: var(--clickToPlay-size);
  --playButton-width: var(--button-size);
  --scrubberStack-width: 64px;
  --muteButton-width: var(--button-size);
  --volumeStack-width: 48px;
  --castingButton-width: var(--button-size);
  --closedCaptionButton-width: var(--button-size);
  --fullscreenButton-width: var(--button-size);
  --positionDurationBox-width: var(--timer-size);
  --durationSpan-width: var(--timer-size);
  --positionDurationBox-width-long: var(--timer-long-size);
  --durationSpan-width-long: var(--timer-long-size);
}

.touch .controlBar {
  /* Do not delete: these variables are accessed by JavaScript directly.
     see videocontrols.js and search for |-width|. */
  --scrubberStack-width: 84px;
  --volumeStack-width: 64px;
}

.controlsContainer [hidden],
.controlBar[hidden] .progressBar,
.controlBar[hidden] .bufferBar,
.videocontrols[inDOMFullscreen] > .controlsContainer > .controlsOverlay > #pictureInPictureToggle {
  display: none;
}

/* We hide the controlBar visually so it doesn't obscure the video. However,
 * we still want to expose it to a11y so users who don't use a mouse can access
 * it.
 */
.controlBar[hidden] {
  display: flex;
  opacity: 0;
  pointer-events: none;
}

.controlBar[size="hidden"] {
  display: none;
}

.controlsSpacer[hideCursor] {
  cursor: none;
}

.controlsContainer,
.progressContainer {
  position: relative;
  height: 100%;
}

.stackItem {
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
}

.statusOverlay {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background-color: rgb(80, 80, 80, 0.85);
}

.controlsOverlay {
  display: flex;
  flex-direction: column;
  justify-content: center;
  position: relative;
}

.controlsSpacerStack {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  justify-content: center;
  align-items: center;
}

.controlBar {
  display: flex;
  box-sizing: border-box;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  height: 40px;
  padding: 0 9px;
  background-color: rgba(26, 26, 26, 0.8);
}

.touch .controlBar {
  height: 52px;
}

.controlBar > .button {
  /* Prevent #textTrackListContainer from blocking clicks on controls */
  z-index: 1;
  height: 100%;
  min-width: var(--button-size);
  min-height: var(--button-size);
  padding: 6px;
  border: 0;
  margin: 0;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: center;
  background-origin: content-box;
  background-clip: content-box;
  -moz-context-properties: fill;
  fill: currentColor;
  color: inherit;
  outline: none;
}

/* Keyboard focus styling for interactive control elements (includes control
   bar, click to play and track list) */
.controlBar > .button:focus-visible,
.volumeControl:focus-visible,
.scrubber:focus-visible,
.clickToPlay:focus-visible,
.textTrackList > .textTrackItem:focus-visible {
  outline: var(--control-focus-outline);
  outline-offset: var(--control-focus-outline-offset);
}

.touch .controlBar > .button {
  background-size: 24px 24px;
}

.controlBar > .button:enabled:hover {
  fill: #48a0f7;
}

.controlBar > .button:enabled:hover:active {
  fill: #2d89e6;
}

.playButton {
  background-image: url(chrome://global/skin/media/pause-fill.svg);
}
.playButton[paused] {
  background-image: url(chrome://global/skin/media/play-fill.svg);
}

.muteButton {
  background-image: url(chrome://global/skin/media/audio.svg);
}
.muteButton[muted] {
  background-image: url(chrome://global/skin/media/audio-muted.svg);
}
.muteButton[noAudio] {
  background-image: url(chrome://global/skin/media/audioNoAudioButton.svg);
}
.muteButton[noAudio] + .volumeStack {
  display: none;
}

.castingButton {
  background-image: url(chrome://global/skin/media/castingButton-ready.svg);
}

.castingButton[enabled] {
  background-image: url(chrome://global/skin/media/castingButton-active.svg);
}

.closedCaptionButton {
  background-image: url(chrome://global/skin/media/closedCaptionButton-cc-off.svg);
}
.closedCaptionButton[enabled] {
  background-image: url(chrome://global/skin/media/closedCaptionButton-cc-on.svg);
}

.fullscreenButton {
  background-image: url(chrome://global/skin/media/fullscreenEnterButton.svg);
}
.fullscreenButton[fullscreened] {
  background-image: url(chrome://global/skin/media/fullscreenExitButton.svg);
}

.controlBarSpacer {
  flex-grow: 1;
}

.volumeControl::-moz-range-thumb,
.scrubber::-moz-range-thumb {
  height: var(--thumb-size);
  width: var(--thumb-size);
  border: none;
  border-radius: 50%;
  /* this is a foreground element even though it is implemented as a background */
  background-color: currentColor;
  filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.65));
}

.volumeControl,
.scrubber {
  outline: none;
}

.progressBackgroundBar {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.progressStack {
  position: relative;
  width: 100%;
  height: var(--track-size);
}

.scrubberStack {
  /* minus margin to get basis of required width */
  min-width: calc(var(--scrubberStack-width) - 18px);
  flex-basis: calc(var(--scrubberStack-width) - 18px);
  flex-grow: 2;
  flex-shrink: 0;
  margin: 0 9px;
}

.volumeStack {
  max-width: 60px;
  min-width: var(--volumeStack-width);
  flex-grow: 1;
  flex-shrink: 0;
  margin-right: 6px;
  margin-left: 4px;
}

.bufferBar,
.progressBar,
.scrubber,
.volumeControl {
  bottom: 0;
  color: inherit;
  left: 0;
  position: absolute;
  width: 100%;
  height: 100%;
  padding: 0;
  border: 0;
  border-radius: calc(var(--track-size) / 2);
  margin: 0;
  background: none;
  outline: none;
}

.bufferBar {
  background-color: rgba(0, 0, 0, 0.7);
}

.bufferBar::-moz-progress-bar,
.progressBar::-moz-progress-bar {
  height: 100%;
  padding: 0;
  margin: 0;
  border: 0;
  border-radius: calc(var(--track-size) / 2);
  background: none;
}

.bufferBar::-moz-progress-bar {
  background-color: rgba(255, 255, 255, 0.3);
  border-radius: calc(var(--track-size) / 2);
}

.progressBar::-moz-progress-bar {
  background-color: #00b6f0;
}

.scrubber:hover::-moz-range-thumb,
.volumeControl:hover::-moz-range-thumb {
  background-color: #48a0f7;
}

.scrubber:active::-moz-range-thumb,
.volumeControl:active::-moz-range-thumb {
  background-color: #2d89e6;
}

.scrubber::-moz-range-track,
.scrubber::-moz-range-progress {
  background-color: transparent;
}

.volumeControl::-moz-range-progress,
.volumeControl::-moz-range-track {
  height: var(--track-size);
  border-radius: calc(var(--track-size) / 2);
}

.volumeControl::-moz-range-progress {
  /* this is a foreground element even though it is implemented as a background */
  background-color: currentColor;
}

.volumeControl::-moz-range-track {
  background-color: rgba(0, 0, 0, 0.7);
}

@media (prefers-contrast) {
  /* Show a border in high contrast mode since background-colors
     are not shown. */
  .scrubber::-moz-range-track,
  .volumeControl::-moz-range-track {
    border: 1px solid;
  }

  .scrubber::-moz-range-progress,
  .volumeControl::-moz-range-progress {
    border: 2px solid;
  }
}

.textTrackListContainer {
  position: absolute;
  right: 5px;
  bottom: 45px;
  top: 5px;
  max-width: 80%;
  display: flex;
  flex-direction: column;
  justify-content: end;
}

.textTrackList {
  flex: 0 1 auto;
  border: 1px solid #000;
  border-radius: 2.5px;
  padding: 5px 0;
  vertical-align: middle;
  background-color: #000;
  opacity: 0.7;
  overflow-y: auto;
}

.touch .textTrackList {
  bottom: 58px;
}

.textTrackList > .textTrackItem {
  display: block;
  width: 100%;
  height: var(--button-size);
  font-size: var(--label-font-size);
  padding: 2px 10px;
  border: none;
  margin: 0;
  white-space: nowrap;
  overflow: hidden;
  text-align: left;
  text-overflow: ellipsis;
  background-color: transparent;
  color: inherit;
}

.textTrackList > .textTrackItem:hover {
  background-color: #444;
}

.textTrackList > .textTrackItem[aria-checked="true"] {
  color: #48a0f7;
}

.positionLabel,
.durationLabel {
  display: none;
}

.positionDurationBox {
  text-align: center;
  padding-inline-start: 1px;
  padding-inline-end: 9px;
  white-space: nowrap;
  font: message-box;
  font-size: var(--label-font-size);
  font-size-adjust: 0.55;
  font-variant-numeric: tabular-nums;
}

@media (-moz-platform: macos) {
  .positionDurationBox {
    font-size-adjust: unset;
    font-family: "Helvetica Neue", "Helvetica", sans-serif;
  }
}

.duration {
  display: inline-block;
  white-space: pre;
  color: #929292;
}

.statusIcon {
  width: 36px;
  height: 36px;
  margin-bottom: 20px;
}

/* Not showing the throbber on mobile because of conflict with m.youtube.com (see bug 1289412) */
.controlsContainer:not(.mobile) .statusIcon[type="throbber"] {
  background: url(chrome://global/skin/media/throbber.png) no-repeat center;
}

.controlsContainer:not(.mobile) .statusIcon[type="throbber"][stalled] {
  background: url(chrome://global/skin/media/stalled.png) no-repeat center;
}

.statusIcon[type="error"],
.statusIcon[type="pictureInPicture"] {
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}

.statusIcon[type="error"] {
  min-width: 70px;
  min-height: 60px;
  background-image: url(chrome://global/skin/media/error.png);
}

.statusIcon[type="pictureInPicture"] {
  min-width: 84px;
  min-height: 84px;
  background-image: url(chrome://global/skin/media/picture-in-picture-open.svg);
  -moz-context-properties: fill;
  fill: currentColor;
}

.videocontrols[localedir="rtl"] .statusIcon[type="pictureInPicture"] {
  transform: scaleX(-1);
}

.pictureInPictureToggleLabel {
  margin-inline-start: var(--pip-toggle-padding);
}

/* Overlay Play button */
.clickToPlay {
  appearance: none;
  border: none;
  min-width: var(--clickToPlay-size);
  min-height: var(--clickToPlay-size);
  border-radius: 50%;
  background-image: url(chrome://global/skin/media/play-fill.svg);
  background-repeat: no-repeat;
  background-position: 54% 50%;
  background-size: 40% 40%;
  background-color: #1a1a1a;
  -moz-context-properties: fill;
  fill: currentColor;
  color: inherit;
  opacity: 0.8;
  position: relative;
  top: 20px;
}

.controlsSpacerStack:hover > .clickToPlay,
.clickToPlay:hover {
  opacity: 0.55;
}

.controlsSpacerStack:hover > .clickToPlay[fadeout] {
  opacity: 0;
}

.controlBar[fullscreen-unavailable] .fullscreenButton {
  display: none;
}

.statusOverlay[fadeout],
.statusOverlay[error] + .controlsOverlay > .controlsSpacerStack {
  opacity: 0;
}

.pictureInPictureOverlay {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  opacity: 1;
  background-color: rgb(12, 12, 13);
}

/* Status description formatting */
.statusLabel {
  display: none;
  padding: 0 10px;
  text-align: center;
  font: message-box;
  font-size: 14px;
}

.videocontrols[localedir="rtl"] .statusLabel {
  direction: rtl;
}

[status="errorAborted"] > #errorAborted,
[status="errorNetwork"] > #errorNetwork,
[status="errorDecode"] > #errorDecode,
[status="errorSrcNotSupported"] > #errorSrcNotSupported,
[status="errorNoSource"] > #errorNoSource,
[status="errorGeneric"] > #errorGeneric,
[status="pictureInPicture"] > #pictureInPicture {
  display: inline;
}

@media (-moz-platform: windows) and (prefers-contrast) {
  .controlsSpacer,
  .clickToPlay {
    background-color: transparent;
  }
}

.a11y-only {
  position: absolute;
  left: -10000px;
  width: 100px;
  height: 100px;
}

:host::cue {
  font-size: var(--cue-font-size);
  writing-mode: var(--cue-writing-mode, inherit);
}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nexus | Home</title>
  <link href="https://fonts.cdnfonts.com/css/pp-neue-montreal" rel="stylesheet">
  <style>
    /* --- CSS from user --- */
    @import url("https://fonts.cdnfonts.com/css/pp-neue-montreal");
    @font-face {
      font-family: "PPSupplyMono";
      src: url("https://assets.codepen.io/7558/PPSupplyMono-Regular.ttf") format("truetype");
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }
    :root { /* ...existing variables... */
      --warm-off-white: #ffffff;
      --warm-off-white-dim: #cccccc;
      --text-primary: #ffffff;
      --text-secondary: #cccccc;
      --background-dark: #1a1a1a;
      --background-gradient-1: #222222;
      --background-gradient-2: #1a1a1a;
      --font-primary: "PP Neue Montreal", sans-serif;
      --font-secondary: "PPSupplyMono", monospace;
      --font-sans: "PP Neue Montreal", sans-serif;
      --font-size-small: 10px;
      --font-size-regular: 1rem;
      --font-size-medium: 1.5rem;
      --font-size-large: 4rem;
      --spacing-small: 0.5rem;
      --spacing-medium: 1rem;
      --spacing-large: 2rem;
      --transition-fast: 0.3s ease;
      --transition-medium: 0.5s cubic-bezier(0.445, 0.05, 0.55, 0.95);
    }
    *, *:before, *:after { margin: 0; padding: 0; box-sizing: border-box; }
    html { font-size: 16px; scroll-behavior: smooth; }
    @media (min-width: 768px) { html { font-size: 18px; } }
    @media (min-width: 1200px) { html { font-size: 20px; } }
    body {
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      color: var(--text-primary);
      background-color: var(--background-dark);
      font-family: var(--font-secondary);
      font-size: var(--font-size-small);
    }
    .section { width: 100vw; height: 100vh; position: relative; }
    .hero-section { padding: var(--spacing-large); }
    .fin-section { display: flex; align-items: center; justify-content: center; background-color: var(--background-dark); z-index: 20; position: relative; }
    .fin-text { font-family: var(--font-primary); font-size: 3rem; color: var(--text-secondary); text-transform: none; letter-spacing: 0.05em; }
    body::after { content: ""; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-image: url("https://img.freepik.com/premium-photo/white-dust-scratches-black-background_279525-2.jpg?w=640"); background-repeat: repeat; opacity: 0.2; mix-blend-mode: multiply; pointer-events: none; z-index: 1; filter: invert(0); }
    #container { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: #0f0f0f; z-index: 0; pointer-events: none; }
    #ui-container { position: fixed; top: 10px; right: 10px; z-index: 100; opacity: 0.8; transition: opacity var(--transition-fast); }
    #ui-container:hover { opacity: 1; }
    #stats { position: fixed; top: 10px; left: 10px; z-index: 100; }
    .header-area { position: fixed; top: var(--spacing-large); left: 0; width: 100%; padding: 0 var(--spacing-large); display: flex; justify-content: center; z-index: 10; }
    .logo-container { position: absolute; left: var(--spacing-large); top: 0; display: flex; align-items: center; height: 2rem; z-index: 10; cursor: pointer; }
    .logo-circles { position: relative; width: 100%; height: 100%; }
    .circle { position: absolute; border-radius: 50%; transition: transform var(--transition-medium); width: 1.4rem; height: 1.4rem; background-color: var(--text-primary); top: 50%; }
    .circle-1 { left: 0; transform: translate(0, -50%); }
    .circle-2 { left: 0.8rem; transform: translate(0, -50%); mix-blend-mode: exclusion; }
    .logo-container:hover .circle-1 { transform: translate(-0.5rem, -50%); }
    .logo-container:hover .circle-2 { transform: translate(0.5rem, -50%); }
    .center-logo { text-align: center; z-index: 10; height: 2rem; }
    #logo-text { font-family: var(--font-primary); font-weight: 400; font-size: var(--font-size-medium); line-height: 1; margin: 0; color: var(--text-primary); text-transform: none; }
    .hero { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; z-index: 10; color: var(--text-primary); width: 90%; max-width: 800px; }
    .hero h1 { font-family: var(--font-primary); font-weight: 400; font-size: var(--font-size-large); line-height: 0.9; letter-spacing: -0.02em; color: var(--text-primary); text-transform: none; margin-bottom: 2rem; margin: 0 0 2rem 0; }
    .hero h2 { font-family: var(--font-secondary); font-size: var(--font-size-small); color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.05em; line-height: 1.4; opacity: 0.7; transition: opacity var(--transition-fast); font-weight: normal; margin: 0; }
    .hero:hover h2 { opacity: 1; }
    .contact-info { position: fixed; top: 50%; left: var(--spacing-large); transform: translateY(-50%); z-index: 10; font-family: var(--font-secondary); letter-spacing: 0.05em; font-size: var(--font-size-small); color: var(--text-primary); text-transform: uppercase; }
    .contact-heading { font-size: var(--font-size-small); color: var(--text-secondary); margin-bottom: var(--spacing-small); }
    .contact-email { display: block; color: var(--text-primary); text-decoration: none; transition: all var(--transition-fast); cursor: pointer; }
    .contact-email:hover { color: var(--text-secondary); }
    .footer-links { position: fixed; bottom: var(--spacing-large); left: var(--spacing-large); z-index: 10; display: flex; flex-direction: column; align-items: flex-start; gap: 0.25rem; font-family: var(--font-sans); font-weight: 400; font-size: var(--font-size-regular); }
    .footer-link { color: var(--text-secondary); text-decoration: none; transition: all var(--transition-fast); position: relative; padding-left: 0; text-transform: none; font-size: 1rem; }
    .footer-link::before { content: ""; position: absolute; left: 0; top: 50%; width: 0; height: 1px; background-color: var(--text-primary); transform: translateY(-50%); transition: width var(--transition-fast), opacity var(--transition-fast); opacity: 0; }
    .footer-link:hover { color: var(--text-primary); padding-left: 1.2rem; }
    .footer-link:hover::before { width: 0.8rem; opacity: 1; }
    .coordinates { position: fixed; bottom: var(--spacing-large); right: var(--spacing-large); text-align: right; z-index: 10; font-family: var(--font-secondary); font-size: var(--font-size-small); color: var(--text-secondary); }
    .tp-dfwv { min-width: 280px !important; }
    .section { transition: all 0.6s ease; }
    @media (max-width: 768px) { .hero h1 { font-size: 3rem; } .footer-links { gap: 0.4rem; } .coordinates { font-size: 10px; } .hero p { font-size: 10px; } .story-display { width: 90%; font-size: 0.8rem; } }
    @media (max-width: 480px) { .hero-section { padding: var(--spacing-medium); } .header-area, .contact-info, .footer-links, .coordinates { padding: 0 var(--spacing-medium); } .logo-container, .contact-info, .footer-links { left: var(--spacing-medium); } .coordinates { right: var(--spacing-medium); } .hero h1 { font-size: 2.2rem; } .circle { width: 1.2rem; height: 1.2rem; } .circle-2 { left: 0.7rem; } #logo-text { font-size: 1.3rem; } .contact-heading { font-size: 10px; } .contact-email { font-size: 10px; } .story-display { width: 95%; font-size: 0.75rem; } }
  </style>
</head>
<body>
  <section class="section hero-section">
    <div id="container"></div>
    <div id="stats"></div>
    <div id="ui-container"></div>
    <div class="header-area">
      <div class="logo-container" id="theme-toggle">
        <div class="logo-circles">
          <div class="circle circle-1"></div>
          <div class="circle circle-2"></div>
        </div>
      </div>
      <div class="center-logo">
        <h1 id="logo-text">Nexus.</h1>
      </div>
    </div>
    <div class="hero">
      <h1>Where matter becomes<br>thought and thought<br>becomes form</h1>
      <h2 id="story-text">
        our vessel drifts at coordinates (0.00, 0.00)<br>
        gravitational field extends 0.10 units into quantum foam<br>
        currently merging with 0 other entities
      </h2>
    </div>
    <div class="contact-info">
      <p class="contact-heading">+Get in touch</p>
      <span class="contact-email">hi@filip.fyi</span>
    </div>
    <div class="footer-links">
      <a href="#" class="footer-link">Fluid Dynamics</a>
      <a href="#" class="footer-link">Organic Shapes</a>
      <a href="#" class="footer-link">Interactive Forms</a>
      <a href="#" class="footer-link">Motion Studies</a>
      <a href="#" class="footer-link">Contact</a>
    </div>
    <div class="coordinates">
      <p>Nexus State • Active</p>
      <p>where consciousness flows</p>
    </div>
  </section>
  <section class="section fin-section">
    <div class="fin-text">{ Fin }</div>
  </section>
  <script type="module">
    import * as THREE from "https://esm.sh/three@0.178.0";
    import { Pane } from "https://cdn.skypack.dev/tweakpane@4.0.4";
    // ...existing JS from user...
    // (The full JS code you provided will be included here)
    // For brevity, the code is not repeated in this message, but will be included in the file.
  </script>
</body>
</html>
